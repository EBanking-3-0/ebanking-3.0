<div class="user-list-container">
  <div class="header">
    <h1>E-Banking 3.0 - User Management</h1>
    <button class="btn btn-primary" routerLink="/users/new"><span>â•</span> Create New User</button>
  </div>

  @if (loading) {
    <div class="loading">
      <div class="spinner"></div>
      <p>Loading users...</p>
    </div>
  }

  @if (error) {
    <div class="error">
      <p>âš ï¸ Error loading users: {{ error.message }}</p>
    </div>
  }

  @if (!loading && !error) {
    <div class="users-grid">
      @if (users.length === 0) {
        <div class="no-users">
          <p>No users found. Create your first user!</p>
        </div>
      }

      @for (user of users; track user.id) {
        <div class="user-card">
          <div class="user-header">
            <h3>{{ user.firstName }} {{ user.lastName }}</h3>
            <span class="status-badge" [class.active]="user.status === 'ACTIVE'">
              {{ user.status }}
            </span>
          </div>
          <div class="user-details">
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Phone:</strong> {{ user.phone }}</p>
            <p><strong>ID:</strong> {{ user.id }}</p>
          </div>
          <div class="user-actions">
            <button class="btn btn-secondary" [routerLink]="['/users/edit', user.id]">
              âœï¸ Edit
            </button>
            <button class="btn btn-danger" (click)="deleteUser(user.id)">ğŸ—‘ï¸ Delete</button>
          </div>
        </div>
      }
    </div>
  }
</div>
